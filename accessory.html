<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <meta charset="UTF-8">
    <title>Car Accessories</title>
    <meta name="description" content="Company quotation">
    <meta name="author" content="SitePoint">

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="css/styles.css">
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
       
</head>
<script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>



<body>
    <div class="container">
        <div class="row">
            <div class="col-sm-3">
                <h2>Pochacco</h2>
                <a>'Car Accessories Shop'</a>
                
                <p><br>
                    Bangsaothong Samut Prakan
                    <br>THAILAND 30000.
                    
                    <br>

                    <i class="bi bi-telephone"></i>: +66 932234223

                    <br>
                    <i class="bi bi-phone"></i></i>: +66 623999822
                </p>
            </div>
            <div class="col-sm-6"></div>
            <div class="col-sm-3 text-center">
                <h1>
                    QUOTATION
                </h1>
                <img src="img/pochacco.jpg" 
                    style="width:180px;height:175px;
                    padding: 5px;
                    width: 150px;
                    box-shadow: 0 0 2px 1px rgb(0, 0, 0);">
            </div>
        </div>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-sm-4">
                <h3>Customer :</h3>
                <b>Yoonlimin</b><br>
                Address : No.(17),<br> Samut Prakan District,<br> Thailand.
            </div>
            <div class="col-sm-4">
                <h3>Ship to :</h3>
                <b>Yoonlimin</b><br>
                Address : No.(17),<br> Samut Prakan District,<br> Thailand.
            </div>

            <div class="col-sm-4">
                <h4 id="quotationDate">
                    2024/7/17
                </h4>
            </div>
        </div>
    </div>
    <div class="button-container">
    <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
        Add Accessories
    </button>
    </div>

    <div class="container">
        <table class="table table-striped table-bordered table-condensed" id="productList">
            <thead>
                <tr>
                    <th>Accessory</th>
                    <th>Amount</th>
                    <th>Price</th>
                    <th>Edit</th>
                </tr>
            </thead>
            <tbody>
            </tbody>
        </table>
        <div class="result">
                <p>Gross Price: $ <span id="grossPrice">0</span></p>
                <p>VAT Amount: $ <span id="vatAmount">0</span></p>
                <div class="final">
                 <p>Total Amount: $ <span id="totalAmount">0</span></p>
                </div>
        </div>

    </div>
    

    <br>

    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="exampleModalLabel">Add Accessory</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="accessoryForm" class="simple-form">
                        <label for="accessory" class="form-label" >Select an accessory :</label>
                        <select id="accessory" >
                            <option value="100">Car Cover</option>
                            <option value="200">Floor Mats</option>
                            <option value="30">Seat Covers</option>
                            <option value="40">Phone Holder</option>
                            <option value="300">Dash Cover</option>
                            <option value="50">Air Freshener</option>
                        </select>
                        <br>
                        <label for="amount" class="form-label">Amount :</label>
                        <input type="number" id="amount" min="1" value="1">
                        <br>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" onclick="addToProductList()">Add</button>
                </div>
            </div>
        </div>
    </div>

    <p class="cen">
                        <b>Make all checks payable to:</b>
                        <br><i>"Pochacco"</i>
                        <br><b>If you have any question concerning this invoices, call: +66 625252522</b>
                        <br>
                        <br><b>THANK YOU FOR YOUR BUSINESS</b>
                    </p>


                    <footer>YOONLIMIN</footer>

    <script src="https://code.jquery.com/jquery-3.7.1.js"
        integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

    <script>
        var grossPrice = 0;

        function updateTotals() {
            var vatRate = 0.07;
            var vatAmount = grossPrice * vatRate;
            var totalAmount = grossPrice + vatAmount;

            $('#grossPrice').text(grossPrice.toFixed(2));
            $('#vatAmount').text(vatAmount.toFixed(2));
            $('#totalAmount').text(totalAmount.toFixed(2));
        }

        function addToProductList() {
            var accessoryOption = $('#accessory option:selected');
            var accessoryName = accessoryOption.text();
            var accessoryPrice = parseFloat(accessoryOption.val());
            var amount = parseInt($('#amount').val());

            var newRow = $('<tr>');
            var accessoryCell = $('<td>').text(accessoryName);
            var amountCell = $('<td>').text(amount);
            var priceCell = $('<td>').text('$' + (accessoryPrice * amount).toFixed(2));

            var editCell = $('<td>').append(
                $('<button>').text('Delete').addClass('delete-button').click(function () {
                    var row = $(this).closest('tr');
                    var priceToDeduct = parseFloat(row.find('td:eq(2)').text().substring(1));
                    grossPrice -= priceToDeduct;
                    row.remove();
                    updateTotals();
                })
            );

            newRow.append(accessoryCell, amountCell, priceCell, editCell);
            $('#productList tbody').append(newRow);

            grossPrice += accessoryPrice * amount;
            updateTotals();

            // Reset modal form
            $('#accessoryForm')[0].reset();
            $('#exampleModal').modal('hide');
        }

        $(document).ready(function () {
            $('#addButton').click(addToProductList);
        });
    </script>
</body>

</html>

 
    

    <!-- <button type=" button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">
                    Add Item
                    </button>

                    <table class=" table table-striped table-bordered table-condensed" id="quotationTable">
                        <thead>
                            <tr>
                                <th>Quantity</th>
                                <th>Description</th>
                                <th>Unit Price</th>
                                <th>Amount</th>
                            </tr>
                        </thead>
                        <tbody >

                        </tbody>

                        <tfoot>
                            <tr id="sub-total">
                                <td colspan="3" class="text-right"> Subtotal</td>
                                <td colspan="1" class="text-right" id="subTotal">---</td>
                            </tr>
                            <tr>
                                <td colspan="3" class="text-right"> VAT</td>
                                <td colspan="1" class="text-right" id="vat">--</td>
                            </tr>
                            <tr>
                                <td colspan="3" class="text-right"> Shipping &amp; Handling</td>
                                <td colspan="1" class="text-right" id="bottom-line">0.00</td>
                            </tr>
                            <tr>
                                <td colspan="3" class="text-right"> Total Due</td>
                                <td colspan="1" class="text-right" id="total">--</td>
                            </tr>
                        </tfoot>
                    </table>

                    <br> -->

                    <!-- <p class="cen">
                        <b>Make all checks payable to:</b>
                        <br><i>Your company name here</i>
                        <br><b>If you have any question concerning this invoices, call:</b>
                        <br>
                        <br><b>THANK YOU FOR YOUR BUSINESS</b>
                    </p>


                    <footer>WHO ARE YOU</footer> -->


                    <!-- Modal -->

                    
                    
                    
                    

    




                        <!-- // var data = [
                        //     { quantity: 2, description: 'Stock Item Example 0001', unitPrice: 1000 },
                        //     { quantity: 3, description: 'Stock Item Example 0002', unitPrice: 2000 },
                        //     { quantity: 1, description: 'Service Charge Invoicing Item 001', unitPrice: 1000 },
                        //     {
                        //         quantity: 1,
                        //         description: 'Service Charge Invoicing Item 002',
                        //         details: ['Additional line 1 for this item', 'Additional line 2 for this item'],
                        //         unitPrice: 200
                        //     }
                        // ]

                        // // Fetch the data from a given URL
                        // var promise = fetch('http://127.0.0.1:5500/data/data.json')
                        // // data has arrived, we transform it
                        // var p2 = promise.then(data => { 
                        //     return data.json() 
                        // })
                        // // data has been transformed, we use it
                        // p2.then(json => {
                        //     console.log('Data Received',json)
                        // })

                    //     var quoationData = []

                    //     function addItem() {
                    //         var d = $("#newItemDescription").val()
                    //         var u = $("#newItemPPU").val()
                    //         var q = $("#newItemQty").val()
                    //         console.debug(d, u, q)
                    //         quoationData.push({
                    //             description: d,
                    //             quantity: Number.parseFloat(q),
                    //             unitPrice: Number.parseFloat(u)
                    //         })
                    //         $('#exampleModal').modal('hide')
                    //         renderTable()
                    //     }

                    //     function renderTable() {
                    //         var data = quoationData
                    //         var subTotal = 0
                    //         data.forEach((e) => {
                    //             subTotal = subTotal + (e.unitPrice * e.quantity)
                    //         })
                    //         var vat = (subTotal * .07).toFixed(2)
                    //         var total = subTotal * 1.07

                    //         console.log('subTotal', subTotal)
                    //         $("#subTotal").html("" + subTotal)
                    //         $("#vat").html("" + vat)
                    //         $("#total").html("" + total)

                    //         var dataRows = data.map((e,i) => {
                    //             let amount = e.quantity * e.unitPrice
                    //             return `<tr class="data-row">
                    //         <td class="text-center">${e.quantity}</td>
                    //         <td class="data">
                    //             <button onclick="deleteItem(${i})">X</button>
                    //             ${e.description}
                    //         </td>
                    //         <td class="text-right">${e.unitPrice.toFixed(2)}</td>
                    //         <td class="text-right">${amount.toFixed(2)}</td>
                    //     </tr>`;                        
                    //         })

                    //         $(".data-row").remove()

                    //         // Insert into the table
                    //         dataRows.forEach((r) => {
                    //             $('#quotationTable tbody').before(r)
                    //         })

                    //     }

                    //     function deleteItem(i) {
                    //         quoationData.splice(i,1)
                    //         renderTable()
                    //     }

                    //     $(document).ready(function () {
                    //         $.getJSON('data/data.json',
                    //             data => {
                    //                 // render the table
                    //                 quoationData = data;

                    //                 var d = new Date()
                    //                 $('#quotationDate').html(d.toDateString())
                    //                 renderTable()
                    //             })

                    //     }) -->
                    

